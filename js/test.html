<!DOCTYPE html>
<html>

<head>
    <title>Module Test</title>
</head>

<body>
    <h1>Testing Modular Structure</h1>
    <div id="test-output"></div>

    <!-- Load Firebase SDK for testing -->
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>

    <!-- Load all modules in order -->
    <script src="config.js"></script>
    <script src="state.js"></script>
    <script src="utils.js"></script>
    <script src="auth.js"></script>
    <script src="household.js"></script>
    <script src="chores.js"></script>
    <script src="messages.js"></script>
    <script src="statistics.js"></script>
    <script src="ui.js"></script>
    <script src="dataCleanup.js"></script>
    <script src="householdManagement.js"></script>
    <script src="main.js"></script>

    <script>
        // Test that all modules loaded correctly
        const output = document.getElementById('test-output');

        try {
            // Check if RoommatePortal namespace exists
            if (typeof window.RoommatePortal === 'undefined') {
                throw new Error('RoommatePortal namespace not found');
            }

            // Check if all expected modules exist
            const expectedModules = [
                'config', 'state', 'utils', 'auth', 'household',
                'chores', 'messages', 'statistics', 'ui',
                'dataCleanup', 'householdManagement', 'app'
            ];

            const results = [];
            expectedModules.forEach(module => {
                const exists = typeof window.RoommatePortal[module] !== 'undefined';
                results.push(`${module}: ${exists ? '✅' : '❌'}`);
            });

            output.innerHTML = `
                <h2>Module Loading Test Results:</h2>
                <ul>
                    ${results.map(result => `<li>${result}</li>`).join('')}
                </ul>
                <p><strong>Overall: ${results.every(r => r.includes('✅')) ? '✅ All modules loaded successfully!' : '❌ Some modules failed to load'}</strong></p>
            `;

        } catch (error) {
            output.innerHTML = `<p style="color: red;">❌ Error: ${error.message}</p>`;
        }
    </script>
</body>

</html>